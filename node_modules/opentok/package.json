{
  "name": "opentok",
  "description": "OpenTokSDK for node.js",
  "version": "0.3.0",
  "homepage": "https://github.com/bsstoner/opentok",
  "repository": {
    "type": "git",
    "url": "https://github.com/bsstoner/opentok.git"
  },
  "author": {
    "name": "Brian Stoner",
    "email": "bsstoner@gmail.com",
    "url": "http://brianstoner.com"
  },
  "main": "./lib/opentok",
  "directories": {
    "lib": "lib"
  },
  "engines": {
    "node": "*"
  },
  "devDependencies": {
    "jasmine-node": "1.0.x"
  },
  "readme": "# OpenTokSDK for Node.js\n\nOpenTok is a free set of APIs from TokBox that enables websites to weave live group video communication into their online experience. With OpenTok you have the freedom and flexibility to create the most engaging web experience for your users. OpenTok is currently available as a JavaScript and ActionScript 3.0 library. Check out <http://www.tokbox.com/> and <http://www.tokbox.com/opentok/tools/js/gettingstarted> for more information.\n\nThis is the OpenTok NodeJS Module.\n\n## Installation\n\nTo install using npm, add OpenTok to `package.json` and run `npm install`:\n<pre>\n\"dependencies\" : {  \n    \"opentok\" : \"0.2.x\",  \n    ...\n} \n</pre>\n\nTo install as a regular npm package just type `npm install opentok`\n\n## How to use\n\n### API key and API secret\n\nRequest your API key and API secret at <http://www.tokbox.com/opentok/api/tools/js/apikey>.\n\n### OpenTokSDK\n\nIn order to use any of the server side functions, you must first create an `OpenTokSDK` object with your developer credentials.  \nYou must pass in your *API key* and *API secret*.\n\n<pre>\nvar key = '';    // Replace with your API key  \nvar secret = '';  // Replace with your API secret  \nvar opentok = new OpenTok.OpenTokSDK(key, secret);\n</pre>\n\n### Creating Sessions\nUse your `OpenTokSDK` object to create a `session_id`. See <http://www.tokbox.com/opentok/api/tools/documentation/api/server_side_libraries.html#create_session> for more details.\n`createSession` takes 2-3 parameters:  \n> location [string] -  give Opentok a hint on where you are running your application by specifiying an IP (e.g. '127.0.0.1')  \n> properties [object] - OPTIONAL. Set peer to peer as `enabled` or `disabled`  \n> callback [fn(sessionId)] - This is a function that handles the server response after session has been created. The result sessionId is a string.\n\nExample: P2P disabled (default)\n<pre>\nvar location = '127.0.0.1'; // use an IP or 'localhost'\nvar sessionId = '';\nopentok.createSession(location, function(result){\n  sessionId = result;\n  // Do things with sessionId\n});\n</pre>\n\nExample: P2P enabled\n<pre>\nvar location = '127.0.0.1'; // use an IP of 'localhost'\nvar sessionId = '';\nopentok.createSession(location, {'p2p.preference':'enabled'}, function(result){\n  sessionId = result;\n});\n</pre>\n\n### Generating Token\nWith the generated session_id and an OpenTokSDK object, you can start generating tokens for each user. See <http://www.tokbox.com/opentok/api/tools/documentation/api/server_side_libraries.html#generate_token> for more details.\n`generateToken` takes in an object with 1-4 properties, and RETURNS a token as a string:  \n> session_id [string] - REQUIRED. This token is tied to the session it is generated with  \n> role [string] - OPTIONAL. opentok.RoleConstants.{SUBSCRIBER|PUBLISHER|MODERATOR}. Publisher role used when omitted.\n> expire_time [int] - OPTIONAL. Time when token will expire in unix timestamp.\n> connection_data [string] - OPTIONAL. Stores static metadata to pass to other users connected to the session. (eg. names, user id, etc)  \n\nExample:\n<pre>\nvar token = opentok.generateToken({session_id:session_id, role:OpenTok.RoleConstants.PUBLISHER, connection_data:\"userId:42\"});\n</pre>\n\n### Downloading Archive Videos\nTo Download archived video, you must have an Archive ID (from the client), and a moderator token. For more information see <http://www.tokbox.com/opentok/api/tools/documentation/api/server_side_libraries.html#download_archive>.\n\n#### Quick Overview of the javascript library: <http://www.tokbox.com/opentok/api/tools/js/documentation/api/Session.html#createArchive>\n1. Create an event listener on `archiveCreated` event: `session.addEventListener('archiveCreated', archiveCreatedHandler);`  \n2. Create an archive: `archive = session.createArchive(...);`  \n3. When archive is successfully created `archiveCreatedHandler` would be triggered. An Archive object containing `archiveId` property is passed into your function. Save this in your database, this archiveId is what you use to reference the archive for playbacks and download videos  \n4. After your archive has been created, you can start recording videos into it by calling `session.startRecording(archive)`  \n Optionally, you can also use the standalone archiving, which means that each archive would have only 1 video: <http://www.tokbox.com/opentok/api/tools/js/documentation/api/RecorderManager.html>\n\n### Get Archive Manifest\nWith your **moderator token** and a OpenTokSDK object, you can generate a OpenTokArchive object, which contains information for all videos in the Archive  \n`OpenTokSDK.getArchiveManifest()` takes in 3 parameters: **archiveId** and **moderator token**, and a callback function\n> archive_id [string] - REQUIRED. Get this from the client that created the archive.  \n> token [string] - REQUIRED. Get this from the client or the generate_token method.  \n> handler [fn(tbarchive)] - REQUIRED. This function is triggered after it receives the Archive Manifest. The parameter is an `OpenTokArchive` object. The *resources* property of this object is array of `OpenTokArchiveVideoResource` objects, and each `OpenTokArchiveVideoResource` object represents a video in the archive.  \n\nExample: (opentok is an OpentokSDK object)\n<pre>\nvar token = 'moderator_token';\nvar archiveId = '5f74aee5-ab3f-421b-b124-ed2a698ee939'; // Obtained from Javascript Library\n\nopentok.getArchiveManifest(archiveId, token, function(tbarchive){\n  var otArchive = tbarchive;\n});\n</pre>\n\n### Get video ID\n`OpenTokArchive.resources` is an array of `OpenTokArchiveVideoResource` objects. OpenTokArchiveVideoResource has a `getId()` method that returns the videoId as a string.\n\nExample:\n<pre>\nopentok.getArchiveManifest(archiveId, token, function(tbarchive){\n  var vidID = tbarchive.resources[0].getId();\n});\n</pre>\n\n### Get Download URL\n`OpenTokArchive` objects have a `downloadArchiveURL(video_id, handler)` method that will return a URL string for downloading the video in the archive. Video files are FLV format.\n> video_id [string] - REQUIRED. The Video ID returned from OpenTokArchiveVideoResource.getId()  \n> handler [fn(url)] - REQUIRED. This function is triggered after it receives the URL for video. The result is a URL string.  \n\nExample:\n<pre>\nvar url = '';\notArchive.downloadArchiveURL(vidID, function(resp){\n  url = resp;\n});\n</pre>\n\n\n## Example\n\n  Check out the basic working example in examples/app.js\n\n\n## Want to contribute?\n### To run test suite:\n    jasmine-node --coffee spec/\n\n\n",
  "_id": "opentok@0.3.0",
  "_from": "opentok@"
}
